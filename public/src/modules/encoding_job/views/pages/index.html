<div class="page page_encoding_job_index">

	<div class="content">

		<!-- page loaded -->
		<div ng-if="!started() && !starting()">
			<h2>WebM Microwave</h2>
			<p>Make short WebM format clips of your videos. Upload them to websites.</p>
			<button type="submit" class="btn btn-default" ng-click="getStarted()">Ok then...</button>
		</div>

		<!-- creating the blank job on the server, redirecting to the details page -->
		<div ng-if="starting() || encoding_job.start_encoding == true">
			<busy-indicator>Working...</busy-indicator>
		</div>

		<!-- acknowledged the terms -->
		<div ng-if="started() && !starting() && encoding_job.start_encoding == false">
			<h2>Job details</h2>
			<wp-encoding-job-upload-movie encoding-job="encoding_job"></wp-encoding-job-upload-movie>
			<wp-encoding-job-form model="encoding_job"></wp-encoding-job-form>

			<div class="controls_and_validation">
				<button type="submit" class="btn btn-default" ng-click="startEncoding()" ng-disabled="!movieUploaded() || form_valid == false">Start encoding</button>
				<p>
					<ul class="form_errors" ng:show="!movieUploaded() || form_valid == false">
						<li ng-show="!movieUploaded()">Please upload a movie</li>
						<li ng-show="form_valid == false">Please make sure the form is valid</li>
					</ul>
				</p>
			</div>

		</div>

	</div>

	<div class="save_indicator" ng-class="{'save_in_progress': saving == true}">
		Saving details...
	</div>

</div>